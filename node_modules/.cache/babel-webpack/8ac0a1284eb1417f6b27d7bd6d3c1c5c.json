{"ast":null,"code":"export class RealSubject {\n  request() {\n    return true;\n  }\n\n  secondRequest() {\n    return true;\n  }\n\n}\nexport class Proxy {\n  constructor(realSubject, id) {\n    this.url = \"https://script.google.com/macros/s/AKfycbxl-UnMq-kCYRbocHXMHqjluhweXs5emC10p24Qcxyx7HF7DEQ/exec\";\n    this.realSubject = realSubject;\n    this.data = {\n      id\n    };\n  }\n\n  request() {\n    if (this.checkAccess()) {\n      this.realSubject.request();\n    }\n  }\n\n  secondRequest() {\n    if (this.status) {\n      this.realSubject.request();\n    }\n  }\n\n  checkAccess() {\n    this.http.get(this.url, this.data).subscribe(response => {\n      this.status = response.is;\n      console.log(this.status); //response = JSON.stringify(response.getContentText());\n      //response.slice(response.lastIndexOf(\"is\")).substr(2, 20).includes(\"true\");\n    });\n    return this.status;\n  }\n\n}\nexport function isBoardFirst(subject) {\n  return subject.request();\n}\nexport function isBoard(subject) {\n  return subject.secondRequest();\n}","map":null,"metadata":{},"sourceType":"module"}